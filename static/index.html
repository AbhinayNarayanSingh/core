<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Go Websocket</title>

</head>
<body>
    <button id="sendMessage">Send Message</button>

</body>
    <script type="text/javascript">

        var ws = new WebSocket('ws://localhost:9090/ws');

        ws.onopen = () => {

            console.log("Connected");
        }

        ws.onmessage = (msg) => {

            console.log("Server messsage:", msg.data);
        }

        ws.onclose = () => {

            console.log("Diconnected");
        }

        window.ws = ws;

        const sendMessage = () => {
            ws.send({name: "Abhinay"})
        }

        document.querySelector("#sendMessage").addEventListener("click", () => sendMessage())
    </script>
</html>